CREATE TABLE accounts 
(
    id int PRIMARY KEY AUTO_INCREMENT,
    user_id int FOREIGN KEY NOT NULL,
    name varchar(50) NOT NULL,
    description varchar(255) NOT NULL,
    balance double default 0,
    type ENUM('current-asset','current-liability','non-current-asset', 'non-current-liability', 'expense', 'revenue') NOT NULL,
    currency_code char(3) NOT NULL,
    parent_account int FOREIGN KEY NOT NULL -- **** CHECK HOW TO MAKE FOREIGN KEY TO SAME TABLE *****
    date_created TIMESTAMP NOT NULL default CURRENT_TIMESTAMP, -- Remove OnUpdate from default Timestamp Behaviour.
    date_last_edited TIMESTAMP on update CURRENT_TIMESTAMP     -- Remove initial default from Timestamp when record is first created.
);

/* If an insert sets the account balance, set the balance to zero */
CREATE TRIGGER setAccountBalanceZero
    BEFORE INSERT ON accounts
    FOR EACH ROW
    SET NEW.balance = 0;
